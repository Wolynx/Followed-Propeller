#include <Servo.h>
Servo servoX, servoY;

void setup() {
  Serial.begin(115200);
  servoX.attach(9);
  servoY.attach(10);
  servoX.write(90);
  servoY.write(90);
  Serial.println("Ready"); // For Python to check connection
}

void loop() {
  if(Serial.available() > 0) {
    String data = Serial.readStringUntil('\n');
    int comma = data.indexOf(',');
    if(comma > 0) {
      int x = data.substring(0, comma).toInt();
      int y = data.substring(comma+1).toInt();
      
      servoX.write(x);
      servoY.write(y);
      
      // Print to serial for debugging
      Serial.print("X:");
      Serial.print(x);
      Serial.print(" Y:");
      Serial.println(y);
    }
  }
}
